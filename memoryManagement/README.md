![Alt text](https://github.com/Nurlis03/learning-java/blob/main/memoryManagement/memory_structure.png)

Память делится на две части: **стек**, **куча**.

## Стек (Stack)

Стековая память отвечает за хранение ссылок на объекты кучи и за хранение типов значений (также известных в Java как примитивные типы), которые содержат само значение, а не ссылку на объект из кучи.

## Куча (Heap)

Эта область памяти в котором содержатся
фактические объекты, на которые ссылаются переменные из стека.

``` 
StringBuilder builder = new StringBuilder();
```

Ключевое слово **new** несет ответственность за обеспечение того, достаточно ли свободного места на куче, создавая объект типа **StringBuilder** в памяти и обращаясь к нему через «builder» ссылки, которая попадает в стек

## Типы ссылок
Java использует разные типы ссылок: **сильные, слабые, мягкие и фантомные ссылки**.

Разница между типами ссылок заключается в том, что объекты в куче, на которые они ссылаются, имеют право на сборку мусора по различным критериям.

### 1. Сильная ссылка

Это самые популярные ссылочные типы, к которым мы все привыкли. В приведенном выше примере со StringBuilder мы фактически храним сильную ссылку на объект из кучи. 

Объект в куче не удаляется сборщиком мусора, пока на него указывает сильная ссылка или если он явно доступен через цепочку сильных ссылок.

### 2. Слабая ссылка
Попросту говоря, слабая ссылка на объект из кучи, скорее всего, не сохранится после следующего процесса сборки мусора. Слабая ссылка создается следующим образом:

```
WeakReference<StringBuilder> reference = new WeakReference<>(new StringBuilder());
```

